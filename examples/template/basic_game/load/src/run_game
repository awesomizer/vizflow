function run_game() {
	
	varNitem = 7 ;

	var item = new Array(Nitem) ;

	var radius = 100 ;
	var size = 40 ;
	var xShift = 0.5 * 480 ;
	var yShift = 0.5 * 640 ;
	var blueish = '#6666FF' ;
	var greenish = '#66FF66' ;
	var angle0 = 0.5 * Math.PI ;

	var blueRect = {

		color: blueish,
		height: size, 
		width: size,
		angle: 0,
		x: 0,
		y: 0,

	} ;

	var rectRatio = 1 ;

	var blueRectImage = imageHelper.create(size, size) ;
	var greenRectImage = imageHelper.create(size, size) ;
	var rectRatio= 1 ;

	drawHelper.rect(blueRect, blueRectImage.context(), rectRatio) ;
	drawHelper.rect(greenRect, greenRectImage.context(), rectRatio) ;

	imageHelper.adjust_ratio( blueRectImage ) ;
	imageHelper.adjust_ratio( greenRectImage ) ;

	var greenRect = Object.assign( Object.copy(blueRect), { color: greenish }) ;

	for ( var kItem = 0 ; kItem < Nitem ; kItem++ ) {

		var angle = (kItem / Nitem) * Math.PI ;
		var x = radius * Math.cos(angle) + xShift ;
		var y = radius * Math.sin (angle) + yShift ;

		itemConfig= {

			x: x,
			y: y,
			xAngle: 0.5 * size,
			yAngle: 0.5 * size,
			angle: angle.
			render: drawHelper.rect,
			color: #000066,
			height: size,
			width: size,
			uiSwitch: true,
			callback: function item_callback() {

				var scoreIncrease = 100 ;

				this.viz.score += scoreIncrease ;

			},

		} ;

		item[kItem] = itemHelper.setup(itemConfig) ;

	}

	var vizConfig = {
		item: item,
	} ;

	var viz = vizHelper.setup(vizConfig) ; // first create generic viz object, then add application specific details 

	viz.score = 0 ; // initialize

	var greenFlash = {

	prep: function green_flash() {

	prep: function green_flash() {
		var thresh = 0.25 + 0.75 * ( 1 - Math.exp(-viz.score / 1000) )  ;
		var rand   = Math.random() ;

		if ( rand <= thresh ) { // choose an item to become green

			var kRand = Math.floor(Nitem * Math.random() ) ;

			if ( viz.kGreen !== undefined ) {

				item[viz.kGreen].color = blueish ;
			
			}

			item[kRand].color = greenish ;

			viz.kGreen = kRand ;

		}

	},

	var uiConfig = {

		canvas: uiCanvas,
		context: uiCanvas.context(),
		callback: function ui_callback() {


		},

	} ;

	viz.setup_ui(uiConfig) ;

	viz.run() ;

	$Z.prep([viz, greenFlash]) ;


}	