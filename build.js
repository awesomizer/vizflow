"format register";!function(e){function t(e){for(var t=[],r=0,n=e.length;n>r;r++)-1==l.call(t,e[r])&&t.push(e[r]);return t}function r(e,r,n,i){if("string"!=typeof e)throw"System.register provided no module name";var o;o="boolean"==typeof n?{declarative:!1,deps:r,execute:i,executingRequire:n}:{declarative:!0,deps:r,declare:n},o.name=e,f[e]||(f[e]=o),o.deps=t(o.deps),o.normalizedDeps=o.deps}function n(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==l.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var r=0,i=e.normalizedDeps.length;i>r;r++){var o=e.normalizedDeps[r],u=f[o];if(u&&!u.evaluated){var s=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<s){if(void 0!==u.groupIndex&&(t[u.groupIndex].splice(l.call(t[u.groupIndex],u),1),0==t[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=s}n(u,t)}}}}function i(e){var t=f[e];t.groupIndex=0;var r=[];n(t,r);for(var i=!!t.declarative==r.length%2,o=r.length-1;o>=0;o--){for(var s=r[o],a=0;a<s.length;a++){var d=s[a];i?u(d):c(d)}i=!i}}function o(e){return p[e]||(p[e]={name:e,dependencies:[],exports:{},importers:[]})}function u(t){if(!t.module){var r=t.module=o(t.name),n=t.module.exports,i=t.declare.call(e,function(e,t){r.locked=!0,n[e]=t;for(var i=0,o=r.importers.length;o>i;i++){var u=r.importers[i];if(!u.locked){var s=l.call(u.dependencies,r);u.setters[s](n)}}return r.locked=!1,t});if(r.setters=i.setters,r.execute=i.execute,!r.setters||!r.execute)throw new TypeError("Invalid System.register form for "+t.name);for(var s=0,c=t.normalizedDeps.length;c>s;s++){var a,m=t.normalizedDeps[s],v=f[m],g=p[m];g?a=g.exports:v&&!v.declarative?a={"default":v.module.exports,__useDefault:!0}:v?(u(v),g=v.module,a=g.exports):a=d(m),g&&g.importers?(g.importers.push(r),r.dependencies.push(g)):r.dependencies.push(null),r.setters[s]&&r.setters[s](a)}}}function s(e){var t,r=f[e];if(r)r.declarative?a(e,[]):r.evaluated||c(r),t=r.module.exports;else if(t=d(e),!t)throw new Error("Unable to load dependency "+e+".");return(!r||r.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var r={},n=t.module={exports:r,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var u=t.normalizedDeps[i],a=f[u];a&&c(a)}t.evaluated=!0;var d=t.execute.call(e,function(e){for(var r=0,n=t.deps.length;n>r;r++)if(t.deps[r]==e)return s(t.normalizedDeps[r]);throw new TypeError("Module "+e+" not declared as a dependency.")},r,n);d&&(n.exports=d)}}function a(t,r){var n=f[t];if(!n.evaluated&&n.declarative){r.push(t);for(var i=0,o=n.normalizedDeps.length;o>i;i++){var u=n.normalizedDeps[i];-1==l.call(r,u)&&(f[u]?a(u,r):d(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function d(e){if(m[e])return m[e];var t=f[e];if(!t)throw"Module "+e+" not present.";i(e),a(e,[]),f[e]=void 0;var r=t.declarative?t.module.exports:{"default":t.module.exports,__useDefault:!0};return m[e]=r}var f={},l=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},p={},m={};return function(t,n){var i;"undefined"!=typeof i&&i.register?(n(i),i["import"](t)):(n(i={register:r,get:d,set:function(e,t){m[e]=t},newModule:function(e){return e},global:e}),i.set("@empty",i.newModule({})),d(t))}}("undefined"!=typeof window?window:global)("src/blingz",function(e){e.register("src/step",[],function(e){function t(){window.$Z.iter++,window.requestAnimationFrame(window.$Z.run)}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/item",[],function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return 0==t.length?window.$Z._item:($Z._item=t[0],window.$Z)}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/pipe",[],function(e){function t(e){for(var t=Promise.resolve(),r=0;r<e.length;r++)t=t.then(e[r]);return t}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/done",[],function(e){function t(){return 0==window.$Z._item.length||window.$Z.iter>window.$Z.maxIter?!0:!1}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/exit",[],function(e){function t(){return window.$Z.verbose&&console.log("$Z exiting"),!1}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/run",[],function(e){function t(){window.$Z.verbose&&console.log("inside run()",window.$Z.iter),window.$Z.sim=window.$Z.pipe(window.$Z.task)}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/acquire_input",[],function(e){function t(){var e=this;return $Z.verbose&&console.log("inside",this.name),new Promise(function(t){t(e.name)})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/update_items",[],function(e){function t(){var e=this;return window.$Z.verbose&&console.log("inside",this.name),new Promise(function(t){window.$Z.item().forEach(function(e){e.update()}),t(e.name)})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/detect_actions",[],function(e){function t(){var e=this;return $Z.verbose&&console.log("inside",this.name),new Promise(function(t){t(e.name)})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/perform_actions",[],function(e){function t(){var e=this;return $Z.verbose&&console.log("inside",this.name),new Promise(function(t){t(e.name)})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/render_image",[],function(e){function t(){var e=this;return window.$Z.verbose&&console.log("inside",this.name),new Promise(function(t){window.$Z.item().forEach(function(e){e.render()}),t(e.name)})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/step_or_exit",[],function(e){function t(){return new Promise(function(e){window.$Z.done()?(window.$Z.exit(),e(!0)):(window.$Z.step(),e(!1))})}return e("default",t),{setters:[],execute:function(){"use strict"}}}),e.register("src/blingz",["src/step","src/item","src/pipe","src/done","src/exit","src/run","src/acquire_input","src/update_items","src/detect_actions","src/perform_actions","src/render_image","src/step_or_exit"],function(e){var t,r,n,i,o,u,s,c,a,d,f,l,p,m,v,g,w;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e["default"]},function(e){u=e["default"]},function(e){s=e["default"]},function(e){c=e["default"]},function(e){a=e["default"]},function(e){d=e["default"]},function(e){f=e["default"]},function(e){l=e["default"]}],execute:function(){"use strict";p=!1,m=0,v=1/0,g=[],w=[s,c,a,d,f,l],window.$Z={verbose:p,iter:m,maxIter:v,_item:g,item:r,pipe:n,step:t,done:i,exit:o,task:w,run:u},e("default",{})}}})});
//# sourceMappingURL=build.js.map